# Hent frister

Vi vil tilby muligheten til hente oppgavefrister ved bruk av JSON og XML. Sender en JSON i request, så vil man få JSON i response. Bruker en XML i request, så får man XML i response tilbake. Skatteetaten vil bare tilby REST, og ikke SOAP. Kalendertjenesten vil starte med noen få kilder til oppgaver, men vil dynamisk bli utvidet etterhvert. Selv om vi utvider med flere kilder så vil vi nødvendigvis ikke endre APIene. Om det blir nødvendig å endre API, så vil dette blir informert om her og andre steder.
Men i utgangspunktet så er det følgende informasjonsmengde som er interessant: Myndighet(hvor oppgaven opprinnelig kommer fra - hvem bruker skal ta kontakt med for spørsmål), oppgavebeskrivelse (hva er oppgaven), frist for utførelse og status på oppgaven (Åpen, Forfalt, Pågående, Fullført).

## Schemas
Hvis man vil bruke JSON så er JSON-schema generert ut i fra informasjonsmodellen, og kan hentes her:
[JSON-schema](no.skatteetaten.innkreving.deling.kalendertjeneste.v1-schema.json)

Ønsker man der i mot å bruke XML, så kan man hente XSD-schema (som er generert ut ifra informasjonsmodellen) her:
[XSD](no.skatteetaten.innkreving.deling.kalendertjeneste.v1.xsd)


## Format på request

JSON

```json
{
	"kalenderRequest": {
		"part": {
			"organisasjonsnummer": 313268489
		},
		"periode": {
			"fraOgMed": "2022-11-01",
			"tilOgMed": "2023-01-31"
		}
	}
}
```

XML

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!--Sample XML file generated by XMLSpy v2018 rel. 2 (x64) (http://www.altova.com)-->
<n1:kalenderRequest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:n1="no:skatteetaten:innkreving:deling:kalendertjeneste:v1" xsi:schemaLocation="no:skatteetaten:innkreving:deling:kalendertjeneste:v1 no.skatteetaten.innkreving.deling.kalendertjeneste.v1.xsd">
	<n1:part>
		<n1:organisasjonsnummer>313268489</n1:organisasjonsnummer>
	</n1:part>
	<n1:periode>
		<n1:fraOgMed>2022-11-01</n1:fraOgMed>
		<n1:tilOgMed>2023-01-31</n1:tilOgMed>
	</n1:periode>
</n1:kalenderRequest>


```


## Format på respons

JSON

```json
{
	"kalender": {
		"hentetDato": "2001-12-17T09:30:47Z",
		"part": {
			"part": {
				"organisasjonsnummer": 313268489
			},
			"oppgave": [
				{
					"myndighet": "SKE",
					"produktomraade": "MVA",
					"oppgaveType": "rapporteringskrav",
					"oppgaveBeskrivelse": "Send MVA Rapport",
					"frist": {
						"fristType": "leveringsfrist",
						"frist": "2023-01-13"
					},
					"oppgavestatus": "ikkeStartet"
				},
				{
					"myndighet": "SKE",
					"produktomraade": "MVA",
					"oppgaveType": "betalingskrav",
					"oppgaveBeskrivelse": "Betale MVA Periode 4",
					"frist": {
						"fristType": "betalingsfrist",
						"frist": "2023-11-23"
					},
					"oppgavestatus": "fullført"
				}
			]
		}
	}
}
```


XML

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!--Sample XML file generated by XMLSpy v2018 rel. 2 (x64) (http://www.altova.com)-->
<n1:kalender xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:n1="no:skatteetaten:innkreving:deling:kalendertjeneste:v1" xsi:schemaLocation="no:skatteetaten:innkreving:deling:kalendertjeneste:v1 no.skatteetaten.innkreving.deling.kalendertjeneste.v1.xsd">
	<n1:hentetDato>2001-12-17T09:30:47Z</n1:hentetDato>
	<n1:part>
		<n1:part>
			<n1:organisasjonsnummer>313268489</n1:organisasjonsnummer>
		</n1:part>
		<n1:oppgave>
			<n1:myndighet>SKE</n1:myndighet>
			<n1:produktomraade>MVA</n1:produktomraade>
			<n1:oppgaveType>rapporteringskrav</n1:oppgaveType>
			<n1:oppgaveBeskrivelse>Send MVA Rapport</n1:oppgaveBeskrivelse>
			<n1:frist>
				<n1:fristType>leveringsfrist</n1:fristType>
				<n1:frist>2023-01-13</n1:frist>
			</n1:frist>
			<n1:oppgavestatus>ikkeStartet</n1:oppgavestatus>
		</n1:oppgave>
				<n1:oppgave>
			<n1:myndighet>SKE</n1:myndighet>
			<n1:produktomraade>MVA</n1:produktomraade>
			<n1:oppgaveType>betalingskrav</n1:oppgaveType>
			<n1:oppgaveBeskrivelse>Betale MVA Periode 4</n1:oppgaveBeskrivelse>
			<n1:frist>
				<n1:fristType>betalingsfrist</n1:fristType>
				<n1:frist>2023-11-23</n1:frist>
			</n1:frist>
			<n1:oppgavestatus>fullført</n1:oppgavestatus>
		</n1:oppgave>

	</n1:part>
</n1:kalender>
```
